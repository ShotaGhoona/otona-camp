# 画面設計（スマホ向け）

全ページ共通で、シンプルで見やすいデザインを想定。
画面幅: 375px (iPhone SE) ～ 428px (iPhone Pro Max) を想定

---

## 1. ログインページ (`/login`)

```
┌─────────────────────────┐
│    [アプリロゴ/タイトル]   │
│                         │
│   チーム対抗ゲーム 🎮      │
│                         │
│ ┌─────────────────────┐ │
│ │  あなたの名前        │ │
│ │ ┌─────────────────┐ │ │
│ │ │ 山田太郎         │ │ │
│ │ └─────────────────┘ │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │   ログイン >>       │ │
│ └─────────────────────┘ │
│                         │
│                         │
│  ※セキュリティなし       │
│   名前だけで参加OK       │
└─────────────────────────┘
```

**機能:**
- 名前を入力して「ログイン」
- セッションに名前を保存
- 次の画面に遷移（チーム選択 or チーム作成）

---

## 2. チーム選択ページ (`/team-select`)

```
┌─────────────────────────┐
│ ← [戻る]    チーム選択   │
├─────────────────────────┤
│                         │
│  ようこそ、山田太郎さん   │
│                         │
│ ┌─────────────────────┐ │
│ │ 既存のチームに参加    │ │
│ ├─────────────────────┤ │
│ │                     │ │
│ │  🔴 チームA (3人)   │ │
│ │  ──────────────────  │ │
│ │  🔵 チームB (5人)   │ │
│ │  ──────────────────  │ │
│ │  🟢 チームC (2人)   │ │
│ │                     │ │
│ └─────────────────────┘ │
│                         │
│         または           │
│                         │
│ ┌─────────────────────┐ │
│ │ 新しいチームを作る    │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

**機能:**
- 既存チーム一覧を表示（チーム名 + メンバー数）
- タップで参加
- 「新しいチームを作る」→ チームセットアップページへ

---

## 3. チームセットアップページ (`/team-setup`)

```
┌─────────────────────────┐
│ ← [戻る]  チーム作成     │
├─────────────────────────┤
│                         │
│ ┌─────────────────────┐ │
│ │  チーム名            │ │
│ │ ┌─────────────────┐ │ │
│ │ │ 最強チーム       │ │ │
│ │ └─────────────────┘ │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │  チームカラー        │ │
│ │                     │ │
│ │ ⚫ 🔴 🔵 🟢 🟡 🟣   │ │
│ │                     │ │
│ └─────────────────────┘ │
│                         │
│                         │
│ ┌─────────────────────┐ │
│ │   チームを作成      │ │
│ └─────────────────────┘ │
│                         │
│                         │
└─────────────────────────┘
```

**機能:**
- チーム名入力
- カラー選択（丸をタップで選択）
- 「チームを作成」→ 自動的にそのチームに参加
- 問題一覧ページへ遷移

---

## 4. 問題一覧ページ (`/questions`)

```
┌─────────────────────────┐
│  [Menu]  問題一覧   [👤] │
├─────────────────────────┤
│                         │
│  🔴 チームA  |  150pt   │
│                         │
├─────────────────────────┤
│                         │
│ 📝 Q1: あなたの好きな... │
│    ステータス: 投票中 🗳️ │
│    ──────────────────   │
│                         │
│ ✅ Q2: このチームを動物.. │
│    ステータス: 完了 ✓    │
│    ──────────────────   │
│                         │
│ 🔒 Q3: チームの強みは?   │
│    ステータス: 準備中    │
│    ──────────────────   │
│                         │
│ 📝 Q4: 今日の意気込み    │
│    ステータス: 回答中 ✏️ │
│    ──────────────────   │
│                         │
│                         │
│ ┌─────────────────────┐ │
│ │  スコアボードを見る   │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

**機能:**
- 上部に自チーム名とスコア表示
- 問題一覧（ステータス別にアイコン表示）
  - 🔒 準備中（draft）: タップ不可
  - ✏️ 回答中（active）: タップで回答画面へ
  - 🗳️ 投票中（voting）: タップで投票画面へ
  - ✅ 完了（finished）: タップで結果画面へ
- リアルタイムで更新される

---

## 5. 問題詳細ページ - 回答フェーズ (`/questions/[id]/answer`)

```
┌─────────────────────────┐
│ ← [戻る]     Q1/10      │
├─────────────────────────┤
│                         │
│ ●────○────○  Step 1/3  │
│ 回答  投票  結果         │
│                         │
├─────────────────────────┤
│                         │
│ 【問題】                │
│  あなたのチームを       │
│  動物で例えると？       │
│                         │
│  制限時間: 01:45 ⏱️     │
│                         │
├─────────────────────────┤
│                         │
│ チームの回答を入力:      │
│                         │
│ ┌─────────────────────┐ │
│ │                     │ │
│ │ ライオン            │ │
│ │                     │ │
│ └─────────────────────┘ │
│                         │
│  または                 │
│                         │
│ ┌─────────────────────┐ │
│ │  📷 画像をアップロード│ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │   回答を送信 >>     │ │
│ └─────────────────────┘ │
│                         │
│ ※チームの誰か1人が      │
│  回答すればOKです       │
│                         │
└─────────────────────────┘
```

**回答済みの場合:**

```
┌─────────────────────────┐
│ ← [戻る]     Q1/10      │
├─────────────────────────┤
│                         │
│ ●────○────○  Step 1/3  │
│ 回答  投票  結果         │
│                         │
├─────────────────────────┤
│                         │
│ 【問題】                │
│  あなたのチームを       │
│  動物で例えると？       │
│                         │
├─────────────────────────┤
│                         │
│ ✅ チームの回答:         │
│                         │
│ ┌─────────────────────┐ │
│ │                     │ │
│ │    ライオン 🦁       │ │
│ │                     │ │
│ │  回答者: 佐藤さん    │ │
│ │                     │ │
│ └─────────────────────┘ │
│                         │
│                         │
│  投票フェーズ待機中...   │
│                         │
│  他のチームの回答:       │
│  ▓▓▓░░ 3/5チーム完了    │
│                         │
└─────────────────────────┘
```

---

## 6. 問題詳細ページ - 投票フェーズ (`/questions/[id]/vote`)

```
┌─────────────────────────┐
│ ← [戻る]     Q1/10      │
├─────────────────────────┤
│                         │
│ ○────●────○  Step 2/3  │
│ 回答  投票  結果         │
│                         │
├─────────────────────────┤
│                         │
│ 【投票してください】     │
│                         │
│  どの回答が一番いい？    │
│                         │
├─────────────────────────┤
│                         │
│ ┌─────────────────────┐ │
│ │ 🔴 チームA（自分）  │ │
│ │                     │ │
│ │    ライオン 🦁       │ │
│ │                     │ │
│ │  [投票不可 🚫]      │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 🔵 チームB          │ │
│ │                     │ │
│ │    ペンギン 🐧       │ │
│ │                     │ │
│ │    [投票する]       │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 🟢 チームC          │ │
│ │                     │ │
│ │   [画像]            │ │
│ │   🖼️ [表示]         │ │
│ │                     │ │
│ │    [投票する]       │ │
│ └─────────────────────┘ │
│                         │
│ ※自分のチームには       │
│  投票できません         │
│                         │
└─────────────────────────┘
```

**投票済みの場合:**

```
┌─────────────────────────┐
│ ← [戻る]     Q1/10      │
├─────────────────────────┤
│                         │
│ ○────●────○  Step 2/3  │
│ 回答  投票  結果         │
│                         │
├─────────────────────────┤
│                         │
│ ✅ 投票完了！            │
│                         │
│  あなたの投票:           │
│  🔴 チームA - ライオン   │
│                         │
├─────────────────────────┤
│                         │
│  他の人の投票状況:       │
│                         │
│  ▓▓▓▓▓▓░░░░ 15/25人    │
│                         │
│  集計待ち...            │
│                         │
│                         │
└─────────────────────────┘
```

---

## 7. 問題詳細ページ - 結果フェーズ (`/questions/[id]/result`)

```
┌─────────────────────────┐
│ ← [戻る]     Q1/10      │
├─────────────────────────┤
│                         │
│ ○────○────●  Step 3/3  │
│ 回答  投票  結果         │
│                         │
├─────────────────────────┤
│                         │
│ 🏆 結果発表！            │
│                         │
├─────────────────────────┤
│                         │
│ 🥇 1位 - 12票            │
│ ┌─────────────────────┐ │
│ │ 🔴 チームA          │ │
│ │    ライオン 🦁       │ │
│ │                     │ │
│ │  +300pt 獲得！      │ │
│ └─────────────────────┘ │
│                         │
│ 🥈 2位 - 8票             │
│ ┌─────────────────────┐ │
│ │ 🟢 チームC          │ │
│ │   🖼️ [画像]         │ │
│ │                     │ │
│ │  +100pt 獲得        │ │
│ └─────────────────────┘ │
│                         │
│ 🥉 3位 - 5票             │
│ ┌─────────────────────┐ │
│ │ 🔵 チームB          │ │
│ │    ペンギン 🐧       │ │
│ │                     │ │
│ │  +50pt 獲得         │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │  次の問題へ >>      │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 8. スコアボード (`/scoreboard`)

```
┌─────────────────────────┐
│ ← [戻る]  スコアボード   │
├─────────────────────────┤
│                         │
│ 【現在の順位】           │
│                         │
│ ┌─────────────────────┐ │
│ │ 🥇 1位               │ │
│ │                     │ │
│ │  🔴 チームA          │ │
│ │      450 pt         │ │
│ │                     │ │
│ │  ████████████ 100%  │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 🥈 2位               │ │
│ │                     │ │
│ │  🟢 チームC          │ │
│ │      350 pt         │ │
│ │                     │ │
│ │  ██████████░░ 78%   │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 🥉 3位               │ │
│ │                     │ │
│ │  🔵 チームB          │ │
│ │      280 pt         │ │
│ │                     │ │
│ │  ████████░░░░ 62%   │ │
│ └─────────────────────┘ │
│                         │
│                         │
│ 進行状況: Q3/10 完了     │
│                         │
└─────────────────────────┘
```

---

## 9. ゲームマスターページ (`/gamemaster`)

```
┌─────────────────────────┐
│ ☰ Menu  ゲームマスター  │
├─────────────────────────┤
│                         │
│ 🎮 ゲーム進行管理        │
│                         │
│ ┌─────────────────────┐ │
│ │ 現在の状態:          │ │
│ │                     │ │
│ │ ⏸️  待機中            │ │
│ │                     │ │
│ │ ゲーム開始 >>       │ │
│ └─────────────────────┘ │
│                         │
├─────────────────────────┤
│                         │
│ 📝 問題管理              │
│                         │
│ ┌─────────────────────┐ │
│ │ + 新しい問題を作成   │ │
│ └─────────────────────┘ │
│                         │
│ ━━━━━━━━━━━━━━━━━━━━━  │
│                         │
│ Q1: あなたの好きな...   │
│ 📊 ステータス: 投票中    │
│                         │
│ [編集] [結果を見る]     │
│ [次のフェーズへ]        │
│                         │
│ ━━━━━━━━━━━━━━━━━━━━━  │
│                         │
│ Q2: このチームを動物で.. │
│ ✅ ステータス: 完了      │
│                         │
│ [編集] [結果を見る]     │
│                         │
│ ━━━━━━━━━━━━━━━━━━━━━  │
│                         │
│ Q3: チームの強みは?     │
│ 🔒 ステータス: 準備中    │
│                         │
│ [編集] [アクティブ化]   │
│                         │
└─────────────────────────┘
```

---

## 10. 問題作成/編集ページ (`/gamemaster/questions/new`)

```
┌─────────────────────────┐
│ ← [戻る]   問題作成     │
├─────────────────────────┤
│                         │
│ ┌─────────────────────┐ │
│ │ 問題文               │ │
│ │ ┌─────────────────┐ │ │
│ │ │あなたのチームを  │ │ │
│ │ │動物で例えると？  │ │ │
│ │ │                 │ │ │
│ │ └─────────────────┘ │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 回答タイプ           │ │
│ │                     │ │
│ │ ⚫ テキスト          │ │
│ │ ⚪ 画像              │ │
│ │ ⚪ テキスト+画像     │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 制限時間（秒）       │ │
│ │ ┌─────────────────┐ │ │
│ │ │ 60              │ │ │
│ │ └─────────────────┘ │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │ 配点                │ │
│ │ ┌─────────────────┐ │ │
│ │ │ 100             │ │ │
│ │ └─────────────────┘ │ │
│ └─────────────────────┘ │
│                         │
│ ┌─────────────────────┐ │
│ │   下書き保存        │ │
│ └─────────────────────┘ │
│ ┌─────────────────────┐ │
│ │ 即座にアクティブ化   │ │
│ └─────────────────────┘ │
│                         │
└─────────────────────────┘
```

---

## 画面遷移図

```
[ログイン]
    ↓
[チーム選択] → [チーム作成]
    ↓              ↓
    └──────────────┘
            ↓
    [問題一覧] ←→ [スコアボード]
        ↓
    [問題詳細]
     ├─ 回答フェーズ
     ├─ 投票フェーズ
     └─ 結果フェーズ


[ゲームマスター]
    ├─ ダッシュボード
    ├─ 問題作成
    ├─ 問題編集
    └─ 進行管理
```

---

## 技術実装メモ

### ルーティング構成（Next.js App Router）

```
app/
├── login/
│   └── page.tsx
├── team-select/
│   └── page.tsx
├── team-setup/
│   └── page.tsx
├── questions/
│   ├── page.tsx (一覧)
│   └── [id]/
│       ├── answer/
│       │   └── page.tsx
│       ├── vote/
│       │   └── page.tsx
│       └── result/
│           └── page.tsx
├── scoreboard/
│   └── page.tsx
└── gamemaster/
    ├── page.tsx
    └── questions/
        ├── new/
        │   └── page.tsx
        └── [id]/
            └── edit/
                └── page.tsx
```

### 状態管理

- リアルタイム更新: Supabase Realtime or SWR polling
- ローカル状態: React useState
- グローバル状態: Context API or Zustand（軽量なら Context で十分）

### スタイリング

- Tailwind CSS推奨（スピード重視）
- shadcn/ui でコンポーネント（ボタン、カードなど）
- レスポンシブ: mobile-first

### リアルタイム更新が必要な箇所

1. 問題一覧のステータス変更
2. 回答フェーズでの他チームの進捗
3. 投票フェーズでの投票数
4. スコアボードの更新
